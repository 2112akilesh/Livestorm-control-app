<ion-header class="ion-no-border" [translucent]="true" [hidden]="scanActive">
  <ion-toolbar color="livestorm-light-bg">

    <ion-buttons slot="start">
      <ion-back-button defaultHref="/intro" color="livestorm-dark-prime" text=""></ion-back-button>
    </ion-buttons>

    <ion-title>
      <svg width="222px" viewBox="0 0 922 155" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M214.245 29.2669V132.135H285.183V111.619H238.228V29.2669H214.245Z" fill="#12262B" />
        <path
          d="M299.464 44.437C301.776 46.7486 304.954 47.9045 308.711 47.9045C312.467 47.9045 315.501 46.7486 317.957 44.437C320.269 42.1254 321.569 39.0913 321.569 35.3349C321.569 31.723 320.269 28.689 317.957 26.3773C315.501 24.0657 312.467 22.7654 308.711 22.7654C304.954 22.7654 301.776 24.0657 299.464 26.3773C297.008 28.689 295.852 31.723 295.852 35.3349C295.852 39.0913 297.008 42.1254 299.464 44.437ZM298.019 58.1623V132.135H319.402V58.1623H298.019Z"
          fill="#12262B" />
        <path
          d="M329.152 58.1623L354.869 132.135H385.787L411.505 58.1623H389.11L371.051 114.653H369.606L351.691 58.1623H329.152Z"
          fill="#12262B" />
        <path
          d="M434.397 129.534C440.61 132.857 447.689 134.446 455.636 134.446C464.593 134.446 472.395 132.568 479.041 128.812C485.687 125.055 490.166 119.71 492.478 113.064L474.273 108.44C472.54 111.619 470.228 114.075 467.194 115.809C464.015 117.687 460.548 118.554 456.503 118.554C451.301 118.554 446.823 117.109 443.355 113.931C439.888 110.897 437.72 106.707 436.854 101.361H494.934C495.078 100.35 495.223 98.1826 495.223 94.8596C495.223 87.2023 493.489 80.4119 490.166 74.4883C486.843 68.7092 482.22 64.0859 476.152 60.7629C470.084 57.5844 463.293 55.8507 455.491 55.8507C447.545 55.8507 440.466 57.5844 434.397 60.7629C428.185 63.9414 423.417 68.5647 419.95 74.3438C416.482 80.2674 414.748 87.0578 414.748 94.5707C414.748 102.372 416.482 109.307 419.95 115.375C423.417 121.443 428.185 126.211 434.397 129.534ZM473.407 88.0692H436.709C437.576 83.1569 439.599 79.1116 442.777 76.222C445.956 73.3325 450.001 71.7432 454.913 71.7432C459.826 71.7432 463.871 73.3325 467.338 76.3665C470.661 79.4005 472.684 83.3014 473.407 88.0692Z"
          fill="#12262B" />
        <path
          d="M514.727 127.511C520.94 132.424 529.608 134.735 540.589 134.735C551.425 134.735 559.949 132.568 566.161 128.089C572.374 123.755 575.552 117.543 575.552 109.596C575.552 104.106 573.963 99.9163 571.074 96.7378C568.184 93.5593 564.572 91.3922 560.238 90.0919C555.903 88.7916 550.991 87.7802 545.357 87.0578C540.155 86.4799 536.399 86.0465 534.232 85.6131C532.065 85.3241 530.186 84.6017 528.453 83.4459C526.719 82.2901 525.996 80.7008 525.996 78.5337C525.996 75.9331 527.152 73.7659 529.608 72.1767C531.92 70.5874 535.099 69.7205 539.144 69.7205C543.478 69.7205 546.946 70.7319 549.546 72.7546C552.147 74.7773 553.592 77.3778 553.736 80.5563H573.241C573.241 75.6441 571.796 71.1653 568.906 67.4089C566.017 63.6525 561.972 60.6185 556.77 58.5958C551.569 56.5731 545.646 55.5618 539.144 55.5618C529.175 55.5618 521.229 57.8734 515.161 62.3522C509.093 66.831 506.203 72.7546 506.203 80.2674C506.203 86.191 507.792 90.6698 510.971 93.8483C514.149 97.0268 517.761 99.1939 522.096 100.35C526.43 101.506 531.631 102.372 537.988 102.95C543.623 103.528 547.813 104.395 550.558 105.406C553.158 106.418 554.603 108.44 554.603 111.475C554.603 114.364 553.303 116.531 550.847 118.12C548.391 119.854 545.212 120.577 541.167 120.577C535.965 120.577 531.776 119.421 528.742 116.965C525.708 114.653 524.263 111.475 524.263 107.429H505.336C505.336 115.953 508.37 122.599 514.727 127.511Z"
          fill="#12262B" />
        <path
          d="M601.355 127.223C605.69 132.135 611.613 134.446 619.126 134.446C621.293 134.446 623.749 134.302 626.494 133.869C629.095 133.435 631.551 132.857 633.574 132.135V116.82C630.684 117.543 628.084 117.832 625.917 117.832C622.883 117.832 620.426 116.965 618.693 115.086C616.959 113.208 616.092 110.608 616.092 107.429V73.7659H632.996V58.1623H616.092L616.236 34.757H599.477L595.287 58.1623H584.307V73.7659H594.709V108.296C594.709 116.098 596.876 122.455 601.355 127.223Z"
          fill="#12262B" />
        <path
          d="M661.125 129.679C667.193 132.857 674.417 134.446 682.652 134.446C690.743 134.446 697.823 132.857 704.035 129.679C710.248 126.5 715.015 121.877 718.483 115.953C721.95 110.03 723.684 103.095 723.684 95.1486C723.684 87.3468 721.95 80.4119 718.483 74.4883C715.015 68.5647 710.248 63.9414 704.035 60.7629C697.823 57.5844 690.743 55.8507 682.652 55.8507C674.417 55.8507 667.193 57.5844 661.125 60.7629C654.913 63.9414 650.145 68.5647 646.677 74.4883C643.21 80.4119 641.621 87.3468 641.621 95.1486C641.621 103.095 643.21 110.03 646.677 115.953C650.145 121.877 654.913 126.5 661.125 129.679ZM696.667 110.319C692.91 114.364 688.287 116.242 682.652 116.242C676.873 116.242 672.105 114.364 668.493 110.319C664.737 106.418 663.003 101.361 663.003 95.1486C663.003 89.0805 664.737 84.0238 668.493 80.1229C672.105 76.222 676.873 74.1993 682.652 74.1993C688.287 74.1993 692.91 76.222 696.667 80.1229C700.279 84.0238 702.157 89.0805 702.157 95.1486C702.157 101.361 700.279 106.418 696.667 110.319Z"
          fill="#12262B" />
        <path
          d="M736.657 58.1623V132.135H758.039V94.2817C758.039 88.6471 759.484 84.0238 762.374 80.4119C765.263 76.9444 769.02 75.0662 773.787 75.0662C775.377 75.0662 777.255 75.3552 779.567 75.7886C781.878 76.3665 783.901 76.9444 785.924 77.8113V58.5958C783.323 57.44 780.578 56.7176 777.544 56.7176C773.643 56.7176 770.031 57.8734 766.708 59.8961C763.385 62.0632 760.929 64.8083 759.34 68.2758H757.75V58.1623H736.657Z"
          fill="#12262B" />
        <path
          d="M797.182 58.1623V132.135H818.564V89.9474C818.564 85.3241 819.72 81.4232 822.321 78.5337C824.777 75.6441 828.1 74.1993 832.434 74.1993C836.48 74.1993 839.658 75.6441 842.114 78.5337C844.426 81.4232 845.726 85.1796 845.726 89.9474V132.135H867.253V89.9474C867.253 85.3241 868.554 81.5677 871.154 78.6781C873.755 75.7886 877.222 74.1993 881.412 74.1993C885.458 74.3438 888.781 75.9331 891.381 78.8226C893.982 81.7122 895.282 85.4686 895.282 89.9474V132.135H916.665V86.3354C916.665 80.5563 915.364 75.2107 913.053 70.5874C910.597 65.9641 907.274 62.4967 903.084 59.8961C898.75 57.2955 893.982 55.9952 888.636 55.9952C883.435 55.9952 878.812 57.2955 874.766 59.7516C870.721 62.2077 867.687 65.5307 865.375 69.865H863.93C861.908 65.6752 858.874 62.3522 854.684 59.7516C850.494 57.151 846.015 55.8507 841.247 55.8507C836.624 55.8507 832.434 57.151 828.678 59.4626C824.921 61.9188 821.887 65.0973 819.865 69.1426H818.42V58.1623H797.182Z"
          fill="#12262B" />
        <g clip-path="url(#clip0)">
          <path
            d="M154.988 77.494C154.988 98.8995 155.706 123.827 139.773 139.814C123.841 155.8 98.8997 154.987 77.4943 154.987C56.0888 154.987 31.1609 155.705 15.1746 139.773C-0.811799 123.841 0.00106683 98.8995 0.00106683 77.494C0.00106683 56.0886 -0.703417 31.1607 15.2288 15.1743C31.1609 -0.812043 56.1024 0.000822691 77.4943 0.000822691C98.8862 0.000822691 123.828 -0.703661 139.814 15.2285C155.8 31.1607 154.988 56.1021 154.988 77.494Z"
            fill="#12262B" />
          <path
            d="M86.2317 36.9856H36.6604C32.2758 36.9856 28.7214 40.54 28.7214 44.9246C28.7214 49.3092 32.2758 52.8636 36.6604 52.8636H86.2317C90.6163 52.8636 94.1707 49.3092 94.1707 44.9246C94.1707 40.54 90.6163 36.9856 86.2317 36.9856Z"
            fill="white" />
          <path
            d="M102.462 69.5542H52.8911C48.5066 69.5542 44.9521 73.1086 44.9521 77.4932C44.9521 81.8778 48.5066 85.4322 52.8911 85.4322H102.462C106.847 85.4322 110.401 81.8778 110.401 77.4932C110.401 73.1086 106.847 69.5542 102.462 69.5542Z"
            fill="white" />
          <path
            d="M86.2317 102.136H69.1209C64.7363 102.136 61.1819 105.691 61.1819 110.075C61.1819 114.46 64.7363 118.014 69.1209 118.014H86.2317C90.6163 118.014 94.1707 114.46 94.1707 110.075C94.1707 105.691 90.6163 102.136 86.2317 102.136Z"
            fill="white" />
          <path
            d="M126.279 44.9246C126.279 40.54 122.724 36.9856 118.34 36.9856C113.955 36.9856 110.401 40.54 110.401 44.9246C110.401 49.3092 113.955 52.8636 118.34 52.8636C122.724 52.8636 126.279 49.3092 126.279 44.9246Z"
            fill="white" />
        </g>
        <defs>
          <clipPath id="clip0">
            <rect width="155" height="155" fill="white" />
          </clipPath>
        </defs>
      </svg>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true" [style.--background]="scanActive?'#00000000':'#e7f0ff'">



  <ion-row class="ion-justify-content-center" [hidden]="scanActive">
    <ion-col size="6">
      <ion-button (click)="startScan()" class="qr-button" fill="outline" color="livestorm-prime">
        <ion-icon name="qr-code-outline"></ion-icon>
      </ion-button>
    </ion-col>
  </ion-row>

  <div class="scan-box" [hidden]="!scanActive"></div>

  <ion-row class="qr-cancel" [hidden]="!scanActive">
    <ion-col class="ion-no-padding">
      <ion-button  expand="full" color="tertiary" (click)="stopScan()">
        Cancel
      </ion-button>
    </ion-col>
  </ion-row>

  <p class="ion-text-center" *ngIf="result && scanActive">{{ result }}</p>

  <br>
  <br>
  <div class="strike" [hidden]="scanActive">
    <span>or</span>
  </div>
  <br>

  <form (ngSubmit)="login()" [formGroup]="credentials" [hidden]="scanActive">
    <div class="input-group">

      <ion-item>
        <ion-input color="livestorm" type="url" placeholder="API Token" formControlName="apiToken"></ion-input>
      </ion-item>

      <div *ngIf="(apiToken.dirty || apiToken.touched) && apiToken.errors" class="errors">
        <span *ngIf="apiToken.errors?.required">API Token is required</span>
        <!-- <span *ngIf="apiToken.errors?.minlength">API Token is invalid</span> -->
      </div>

    </div>

    <ion-button fill="solid" color="livestorm-prime" type="submit" expand="block" [disabled]="!credentials.valid">
      LET'S GO
    </ion-button>
    <ion-button type="button" (click)="openauthorization()" expand="block" fill="clear">
      OBTAIN LIVESTORM API TOKEN
    </ion-button>
  </form>


</ion-content>


<!-- <ion-content
  [fullscreen]="true"
  [style.--background]="scanActive?'#00000000':'#ffffff'"
>
  <ion-button expand="full" (click)="startScanner()" [hidden]="scanActive">
    SCAN
  </ion-button>
  <ion-row class="scan-button" [hidden]="!scanActive">
    <ion-col class="ion-no-padding">
      <ion-button expand="full" (click)="stopScanner()">Stop</ion-button>
    </ion-col>
  </ion-row>
  <div class="scan-box" [hidden]="!scanActive"></div>
</ion-content> -->
